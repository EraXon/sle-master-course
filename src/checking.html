<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.simplecss.org/simple.min.css" rel="stylesheet">
        <title>Static checking tests</title>
    </head>
    <body>
        <h1>Static checking tests</h1>
        <div>
            <h3><span>Condition Must Be Boolean</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span>($error(1)) {
            "X" x: <span class="Keyword">integer</span>
        }
    }</code></pre>
        </div>
        <div>
            <h3><span>Condition Must Be Boolean (complex)</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "A" a: <span class="Keyword">integer</span>
        "B" b: <span class="Keyword">integer</span>
        <span class="Keyword">if</span>($error(a + b)) {
            "X" x: <span class="Keyword">integer</span>
        }
    }</code></pre>
        </div>
        <div>
            <h3><span>Conditions Are Type Checked</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span>($error(<span class="Keyword">true</span>) &lt; 3) {
            "X" x: <span class="Keyword">integer</span>
        }
    }</code></pre>
        </div>
        <div>
            <h3><span>Undefined Reference In Computed Question</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "bug" x: <span class="Keyword">integer</span> = $error(y)
    }</code></pre>
        </div>
        <div>
            <h3><span>Undefined Reference In Condition</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> ($error(x)) {
            "Y" y: <span class="Keyword">integer</span>
        }
    }</code></pre>
        </div>
        <div>
            <h3><span>Nested Undefined Reference</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> (1 &gt; $error(x)) {
            "Y" y: <span class="Keyword">integer</span>
        }
    }</code></pre>
        </div>
        <div>
            <h3><span>Empty Prompt</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        $warning("" x: <span class="Keyword">integer</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Useless Conditional</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> ($warning(<span class="Keyword">true</span>))
            "X" x: <span class="Keyword">integer</span>
    }</code></pre>
        </div>
        <div>
            <h3><span>Empty Then Branch</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> (2 &gt; 1) 
            $warning({})
    }</code></pre>
        </div>
        <div>
            <h3><span>Empty Else Branch</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> (2 &gt; 1) 
            "X" x: <span class="Keyword">integer</span> 
        <span class="Keyword">else</span> 
            $warning({})
    }</code></pre>
        </div>
        <div>
            <h3><span>Dead Else Branch</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> ($warning(<span class="Keyword">true</span>)) 
            "X" x: <span class="Keyword">integer</span>
        <span class="Keyword">else</span> 
            "Y" y: <span class="Keyword">integer</span>

    }</code></pre>
        </div>
        <div>
            <h3><span>Dead Then Branch With Else</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> (<span class="Keyword">false</span>) 
            $warning("X" x: <span class="Keyword">integer</span>)
        <span class="Keyword">else</span> 
            "Y" y: <span class="Keyword">integer</span>
    }</code></pre>
        </div>
        <div>
            <h3><span>Dead Then Branch</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        <span class="Keyword">if</span> (<span class="Keyword">false</span>) 
            $warning("" x: <span class="Keyword">integer</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Computed Question Expression Must Match Declared Type</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "X" x: <span class="Keyword">integer</span> = $error(<span class="Keyword">true</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Redeclared With Different Type</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "X" x: <span class="Keyword">integer</span>
        $error("X" x: <span class="Keyword">boolean</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Redeclared With Different Prompt</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "foo" x: <span class="Keyword">integer</span>
        $warning("bar" x: <span class="Keyword">integer</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Duplicate Labels</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "same" x: <span class="Keyword">integer</span>
        $warning("same" y: <span class="Keyword">boolean</span>)
    }</code></pre>
        </div>
        <div>
            <h3><span>Invalid Operand To +</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "X" x: <span class="Keyword">integer</span> = $error(<span class="Keyword">true</span>) + 1
    }</code></pre>
        </div>
        <div>
            <h3><span>Invalid Operands To +</span></h3>
            <pre class="rascal"><code>    <span class="Keyword">form</span> X {
        "X" x: <span class="Keyword">integer</span> = $error(<span class="Keyword">true</span>) + $error("hello")
    }</code></pre>
        </div>
    </body>
</html>