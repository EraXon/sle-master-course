title "Rendering tests"

test "empty form renders empty" 
    with
    form "" {
    }
    renders as [
    ]

test "disabled questions don't render"
    with
    form "" {
        if (1 > 2) {
            "X" x: integer
        }
    }
    renders as [
    ]


test "enabled questions render"
    with cond: true
    form "" {
        "C" cond: boolean
        if (cond) {
            "X" x: integer
        }
    }
    renders as [
        "C" cond: boolean
        "X" x: integer
    ]


test "unconditional questions render"
    with
    form "" {
        "X" x: integer
        "Y" y: integer
    }
    renders as [
        "X" x: integer
        "Y" y: integer
    ]

test "computed questions render with value"
    with x: 10
    form "" {
        "X" x: integer
        "Y" y: integer = x + x
    }
    renders as [
        "X" x: integer
        "Y" y: integer = 20
    ]